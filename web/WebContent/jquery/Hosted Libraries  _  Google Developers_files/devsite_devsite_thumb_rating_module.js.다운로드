(function(_ds){var window=this;'use strict';var R2=function(a){var b=a.position,c=a.Rr;a=a.Sr;b='<div class="devsite-thumb-rating" role="form" aria-labelledby="devsite-thumb-label-'+_ds.Z(b)+'" tabindex="0"><div class="devsite-thumb-label" id="devsite-thumb-label-'+_ds.Z(b)+'">';b=b+"Rate and review"+('</div><div class="devsite-thumbs">'+Q2(a.label,a.Ag,a.type)+Q2(c.label,c.Ag,c.type)+"</div></div>");return(0,_ds.X)(b)},Q2=function(a,b,c){var d;_ds.st(c,"thumb-down-filled")?d=(0,_ds.X)('<path d="M3,17h6.31l-0.95,4.57l-0.03,0.32c0,0.41,0.17,0.79,0.44,1.06L9.83,24c0,0,7.09-6.85,7.17-7V4H6C5.17,4,4.46,4.5,4.16,5.22 l-3.02,7.05C1.05,12.5,1,12.74,1,13v2C1,16.1,1.9,17,3,17z"></path><path d="M19,17h4V4h-4V17L19,17z"></path>'):
_ds.st(c,"thumb-down-outline")?d=(0,_ds.X)('<path d="M3,17h6.31l-0.95,4.57l-0.03,0.32c0,0.41,0.17,0.79,0.44,1.06L9.83,24c0,0,7.09-6.85,7.17-7h5V4H6 C5.17,4,4.46,4.5,4.16,5.22l-3.02,7.05C1.05,12.5,1,12.74,1,13v2C1,16.1,1.9,17,3,17z M17,6h3v9h-3V6z M3,13l3-7h9v10l-4.34,4.34 L12,15H3V13z"></path>'):_ds.st(c,"thumb-up-filled")?d=(0,_ds.X)('<path d="M21,7h-6.31l0.95-4.57l0.03-0.32c0-0.41-0.17-0.79-0.44-1.06L14.17,0c0,0-7.09,6.85-7.17,7v13h11c0.83,0,1.54-0.5,1.84-1.22 l3.02-7.05C22.95,11.5,23,11.26,23,11V9C23,7.9,22.1,7,21,7z"></path><path d="M5,7H1v13h4V7L5,7z"></path>'):
_ds.st(c,"thumb-up-outline")?d=(0,_ds.X)('<path d="M21,7h-6.31l0.95-4.57l0.03-0.32c0-0.41-0.17-0.79-0.44-1.06L14.17,0c0,0-7.09,6.85-7.17,7H2v13h16 c0.83,0,1.54-0.5,1.84-1.22l3.02-7.05C22.95,11.5,23,11.26,23,11V9C23,7.9,22.1,7,21,7z M7,18H4V9h3V18z M21,11l-3,7H9V8l4.34-4.34 L12,9h9V11z"></path>'):d="";return(0,_ds.X)('<button class="devsite-thumb '+_ds.Z(b)+'" data-title="'+_ds.Z(a)+'" aria-label="'+_ds.Z(a)+'"><svg class="devsite-thumb-icon" viewBox="0 0 24 24" aria-hidden="true">'+d+"</svg></button>")},
S2=function(a){var b=a.xd;a='<devsite-dialog class="devsite-thumb-rating-dialog" id="'+_ds.Z(a.Jg)+'"><div class="devsite-dialog-contents"><h3 class="no-link" tabindex="-1">';a+='What is the reason for your feedback?</h3><form class="devsite-thumb-rating-categories">';for(var c=b.length,d=0;d<c;d++){var e=b[d];a+='<div class="devsite-thumb-rating-category"><input type="radio" name="'+_ds.Z(e.type)+'" id="'+_ds.Z(e.id)+'"><label for="'+_ds.Z(e.id)+'">'+_ds.Y(e.label)+"</label></div>"}return(0,_ds.X)(a+
'</form></div><div class="devsite-dialog-buttons"><button type="submit" class="button button-primary devsite-thumb-rating-submit" disabled>Submit</button><button type="button" class="button devsite-dialog-close">Cancel</button></div></devsite-dialog>')},T2=function(a){a=a.Yn;var b='<devsite-dialog class="devsite-thumb-rating-dialog" id="devsite-thumb-thank-you-dialog"><div class="devsite-dialog-contents"><h3 class="no-link">Thank you for your feedback.</h3>';a&&(b+='<p class="create-profile-prompt">Save your frequently visited pages with a Google Developer Profile.</p>');
b+='</div><div class="devsite-dialog-buttons">';return(0,_ds.X)((a?b+'<button type="button" class="button button-primary create-profile">Create profile':b+'<button type="button" class="button button-primary devsite-dialog-close">Dismiss')+"</button></div></devsite-dialog>")},U2=function(){return(0,_ds.X)('<svg class="material-icons devsite-feedback-icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17l-.59.59-.58.58V4h16v12zm-9-4h2v2h-2zm0-6h2v4h-2z"></path></svg>')},
V2=function(){return(0,_ds.X)('<devsite-dialog class="devsite-thumb-rating-dialog" id="devsite-thumb-create-profile-dialog"><div class="create-profile-spinner"><devsite-spinner size="48"></devsite-spinner></div><div class="devsite-dialog-contents"><h3 class="no-link">Create Google Developer Profile</h3><p>Would you like to receive emails from Google Developer Profiles about developer events, new features and content?</p><input type="checkbox" id="devsite-thumb-create-profile-email-opt-in"><label for="devsite-thumb-create-profile-email-opt-in">Sure, I\'d love to!</label><p class="account-note">By creating a Developer Profile, you agree to the <a href="https://google.dev/content-policy">Content Policy</a>. Google\'s <a href="https://policies.google.com/terms">Terms of Service</a> and <a href="https://policies.google.com/privacy">Privacy Policy</a> apply to your use of this service. The name on your Google Account will be used in your Google Developer Profile. It may appear where you contribute and can be changed at any time.</p></div><div class="devsite-dialog-buttons"><button class="button-primary create-profile">Create Profile</button><button class="button devsite-dialog-close">Dismiss</button></div></devsite-dialog>')},
W2=function(a){a='<devsite-dialog class="devsite-thumb-rating-dialog" id="devsite-thumb-error-dialog"><div class="devsite-dialog-contents"><h3 class="no-link">Something went wrong</h3><p>'+(_ds.Y(a.error)+'</p></div><div class="devsite-dialog-buttons"><button class="button devsite-dialog-close">');return(0,_ds.X)(a+"Dismiss</button></div></devsite-dialog>")},X2=function(){var a=_ds.Q.call(this,["devsite-snackbar","devsite-dialog"])||this;a.eventHandler=new _ds.Zj;a.Gb=null;a.h=null;a.o=null;a.C=null;
a.D=[];a.j=null;a.F=[];a.m=null;a.rating="";return a},b3=function(a){a.eventHandler.listen(a,"click",function(b){b=b.target;if(null===b||void 0===b?0:b.classList.contains("devsite-thumb-up"))a.setAttribute("rating","up"),Y2(a,"thumb-down-outline","thumb-up-filled"),a.m=Z2(a,a.F,"devsite-thumb-up-dialog"),$2(a,"Page rated helpful."),a.m.setAttribute("open",""),a3(a);else if(null===b||void 0===b?0:b.classList.contains("devsite-thumb-down"))a.setAttribute("rating","down"),Y2(a,"thumb-down-filled","thumb-up-outline"),
a.j=Z2(a,a.D,"devsite-thumb-down-dialog"),$2(a,"Page rated not helpful."),a.j.setAttribute("open",""),a3(a)})},$2=function(a,b){a.dispatchEvent(new CustomEvent("devsite-show-custom-snackbar-msg",{detail:{msg:b,showClose:!1},bubbles:!0}))},Y2=function(a,b,c){var d=a.getAttribute("position")||"";_ds.hu(a,R2,{position:d,Rr:{Ag:"devsite-thumb-down",label:"Not helpful",type:b},Sr:{Ag:"devsite-thumb-up",label:"Helpful",type:c}})},Z2=function(a,b,c){var d=document.body.querySelector("#"+c);if(d)return d;
d=_ds.ku(S2,{Jg:c,xd:b});document.body.appendChild(d);a.eventHandler.listen(d,"change",function(){var e,g,k,l;"down"===a.rating?null===(g=null===(e=a.j)||void 0===e?void 0:e.querySelector(".devsite-thumb-rating-submit"))||void 0===g?void 0:g.removeAttribute("disabled"):"up"===a.rating&&(null===(l=null===(k=a.m)||void 0===k?void 0:k.querySelector(".devsite-thumb-rating-submit"))||void 0===l?void 0:l.removeAttribute("disabled"))});a.eventHandler.listen(d.querySelector(".devsite-thumb-rating-submit"),
"click",function(){return _ds.P(a,function g(){var k=this;return _ds.F(g,function(l){return _ds.w(l,c3(k),0)})})});return d},e3=function(a){d3(a,"Callout Profile displayed");var b=document.body.querySelector("#devsite-thumb-create-profile-dialog");if(b)return b;b=_ds.ku(V2);document.body.appendChild(b);var c=b.querySelector(".devsite-dialog-buttons");c&&(a.eventHandler.listen(c.querySelector(".create-profile"),"click",function(){a.createProfile()}),a.eventHandler.listen(c.querySelector(".devsite-dialog-close"),
"click",function(){d3(a,"Callout Profile dismissed")}));return b},g3=function(a){return _ds.P(a,function c(){var d=this,e,g,k,l,m,n,q;return _ds.F(c,function(r){if(1==r.h)return e=d,(g=document.body.querySelector("#devsite-thumb-thank-you-dialog"))?r.return(g):_ds.w(r,d.ea(),2);k=r.j;l=f3()&&!k;g=_ds.ku(T2,{Yn:l});document.body.appendChild(g);m=g.querySelector(".devsite-dialog-buttons");d.Gb&&(null===m||void 0===m?void 0:m.appendChild(d.Gb),n=d.Gb.querySelector("button"),d.eventHandler.listen(n,"click",
function(){null===g||void 0===g?void 0:g.removeAttribute("open")}));l&&m&&(q=m.querySelector(".create-profile"),d.eventHandler.listen(q,"click",function(){null===g||void 0===g?void 0:g.removeAttribute("open");e.h=e3(e);e.h.setAttribute("open","")}));return r.return(g)})})},h3=function(a,b){d3(a,"Callout Profile error");if(a=document.body.querySelector("#devsite-thumb-error-dialog"))return a;a=_ds.ku(W2,{error:b});document.body.appendChild(a);return a},c3=function(a){var b,c,d,e,g,k,l,m,n,q;return _ds.P(a,
function u(){var v=this,x,z;return _ds.F(u,function(C){if(1==C.h)return"down"===v.rating?(x=(null===(c=null===(b=v.j)||void 0===b?void 0:b.querySelector("input[type=radio]:checked"))||void 0===c?void 0:c.id)||"",i3(v,x),null===(d=v.Gb)||void 0===d?void 0:d.setAttribute("rating-type","thumbsDown"),null===(e=v.Gb)||void 0===e?void 0:e.setAttribute("rating-category",x),null===(g=v.j)||void 0===g?void 0:g.removeAttribute("open")):"up"===v.rating&&(z=(null===(l=null===(k=v.m)||void 0===k?void 0:k.querySelector("input[type=radio]:checked"))||
void 0===l?void 0:l.id)||"",i3(v,z),null===(m=v.Gb)||void 0===m?void 0:m.setAttribute("rating-type","thumbsUp"),null===(n=v.Gb)||void 0===n?void 0:n.setAttribute("rating-category",z),null===(q=v.m)||void 0===q?void 0:q.removeAttribute("open")),_ds.w(C,g3(v),2);v.C=C.j;v.C.setAttribute("open","");_ds.y(C)})})},a3=function(a){_ds.P(a,function c(){var d,e=this;return _ds.F(c,function(g){d=null;"down"===e.rating?d={category:"Site-Wide Custom Events",action:"devsite-rating thumb",label:"Thumb Down Rating",
value:-1}:"up"===e.rating&&(d={category:"Site-Wide Custom Events",action:"devsite-rating thumb",label:"Thumb Up Rating",value:1});e.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:d,bubbles:!0}));return _ds.w(g,j3(e),0)})})},d3=function(a,b){var c=null;"down"===a.rating?c={category:"Site-Wide Custom Events",action:b,label:"Rating Widget Callout",value:-1}:"up"===a.rating&&(c={category:"Site-Wide Custom Events",action:b,label:"Rating Widget Callout",value:1});a.dispatchEvent(new CustomEvent("devsite-analytics-observation",
{detail:c,bubbles:!0}))},j3=function(a){return _ds.P(a,function c(){var d,e=this,g,k,l,m;return _ds.F(c,function(n){switch(n.h){case 1:if(!DevsiteApp.hasFlagAccess(117))return n.return();d="RATING_STATE_UNKNOWN";"down"===e.rating?d="THUMBS_DOWN":"up"===e.rating&&(d="THUMBS_UP");return _ds.w(n,e.ea(),2);case 2:g=n.j;if(null===g||void 0===g||!g.profileId)return n.return();k=_ds.Ii().href;try{k=_ds.Mr(k)}catch(q){}l=new _ds.Br;_ds.A(n,3);return _ds.w(n,l.Kc({path:k,status:d,profileId:null===g||void 0===
g?void 0:g.profileId}),5);case 5:_ds.B(n,4);break;case 3:_ds.D(n);case 4:return m=document.querySelector("devsite-user#devsite-user"),_ds.w(n,null===m||void 0===m?void 0:m.Lc("view-rated-pages",null),0)}})})},i3=function(a,b){var c=null;"down"===a.rating?c={category:"Site-Wide Custom Events",action:"devsite-rating category",label:"Rating Category: "+b,value:-1}:"up"===a.rating&&(c={category:"Site-Wide Custom Events",action:"devsite-rating category",label:"Rating Category: "+b,value:1});a.dispatchEvent(new CustomEvent("devsite-analytics-observation",
{detail:c,bubbles:!0}))},f3=function(){var a=document.querySelector("devsite-user#devsite-user");return null!=a&&a.hasAttribute("enable-profiles")},k3=function(a){return _ds.P(a,function c(){var d=this,e,g,k,l,m;return _ds.F(c,function(n){switch(n.h){case 1:return DevsiteApp.hasFlagAccess(117)?_ds.w(n,d.ea(),2):n.return();case 2:e=n.j;if(null===e||void 0===e||!e.profileId)return n.return();g=_ds.Ii().href;try{g=_ds.Mr(g)}catch(q){}k=(null===e||void 0===e?void 0:e.profileId)||"";l=new _ds.Br;_ds.A(n,
3);return _ds.w(n,l.getPath({path:g,profileId:k}),5);case 5:m=n.j;"THUMBS_UP"===(null===m||void 0===m?void 0:m.ratingStatus)&&d.setAttribute("rating","up");"THUMBS_DOWN"===(null===m||void 0===m?void 0:m.ratingStatus)&&d.setAttribute("rating","down");_ds.B(n,0);break;case 3:_ds.D(n),_ds.y(n)}})})};_ds.t(X2,_ds.Q);_ds.f=X2.prototype;
_ds.f.connectedCallback=function(){var a;return _ds.P(this,function c(){var d=this,e,g,k,l,m;return _ds.F(c,function(n){if(1==n.h)return _ds.w(n,k3(d),2);if(e=d.querySelector(".thumb-rating-feedback"))d.Gb=null===(a=e.content.firstElementChild)||void 0===a?void 0:a.cloneNode(!0),d.Gb&&(g=d.Gb.querySelector("button"),null===g||void 0===g?void 0:g.classList.add("button-with-icon"),g&&g.firstChild&&(k=_ds.ku(U2),g.insertBefore(k,g.firstChild)));if((l=d.querySelector(".thumb-down-categories"))&&l.content)try{d.D=
JSON.parse(l.content.textContent||"")}catch(q){d.D=[]}if((m=d.querySelector(".thumb-up-categories"))&&m.content)try{d.F=JSON.parse(m.content.textContent||"")}catch(q){d.F=[]}Y2(d,"thumb-down-outline","thumb-up-outline");b3(d);_ds.y(n)})})};_ds.f.disconnectedCallback=function(){_ds.hk(this.eventHandler);_ds.ih(this.j);_ds.ih(this.m);_ds.ih(this.C);_ds.ih(this.h);_ds.ih(this.o)};_ds.f.attributeChangedCallback=function(a,b,c){switch(a){case "rating":this.rating=c}};
_ds.f.ea=function(){return _ds.P(this,function b(){var c,d,e;return _ds.F(b,function(g){switch(g.h){case 1:return f3()?_ds.w(g,DevsiteApp.whenReady(),2):g.return(null);case 2:return _ds.w(g,DevsiteApp.isSignedIn(),3);case 3:c=g.j;if(!c)return g.return(null);d=new _ds.Dr;e=null;_ds.A(g,4);return _ds.w(g,d.ea(),6);case 6:e=g.j;_ds.B(g,5);break;case 4:_ds.D(g);case 5:return g.return(e)}})})};
_ds.f.createProfile=function(){var a,b,c,d,e,g;return _ds.P(this,function l(){var m,n,q=this,r,u,v,x;return _ds.F(l,function(z){switch(z.h){case 1:return m=document.querySelector("devsite-user#devsite-user"),_ds.w(z,null===m||void 0===m?void 0:m.getAccountName(),2);case 2:if(n=z.j){z.G(3);break}return _ds.w(z,null===m||void 0===m?void 0:m.getAccountEmail(),4);case 4:(n=z.j)&&(n=n.charAt(0));case 3:if(!n)return null===(a=q.h)||void 0===a?void 0:a.removeAttribute("open"),q.o=h3(q,"There was an issue getting your account information."),
q.o.setAttribute("open",""),z.return();r=null===(b=q.h)||void 0===b?void 0:b.querySelector("#devsite-thumb-create-profile-email-opt-in");u=!(!r||!r.checked);null===(c=q.h)||void 0===c?void 0:c.classList.add("loading");v=new _ds.Dr;_ds.A(z,5);return _ds.w(z,_ds.Fr(v,n,u,!0),7);case 7:return d3(q,"Callout Profile created"),null===(d=q.h)||void 0===d?void 0:d.removeAttribute("open"),_ds.w(z,j3(q),8);case 8:_ds.B(z,6);break;case 5:x=_ds.D(z),null===(e=q.h)||void 0===e?void 0:e.removeAttribute("open"),
q.o=h3(q,""+x),q.o.setAttribute("open","");case 6:null===(g=q.h)||void 0===g?void 0:g.classList.remove("loading"),_ds.y(z)}})})};_ds.la.Object.defineProperties(X2,{observedAttributes:{configurable:!0,enumerable:!0,get:function(){return["rating"]}}});try{window.customElements.define("devsite-thumb-rating",X2)}catch(a){console.warn("Unrecognized DevSite custom element - DevsiteThumbRating",a)};})(_ds_www);
